<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/app.css">
  <link rel="stylesheet" href="./css/vendor.css">
  <title>No styles</title>
</head>

<body>
  <div id="mountingPoint"></div>
  <script src="./formBuilder.js"></script>
  <script src="./vendor.js"></script>
  <script>

    const def = () => {
      let month = new Date().getMonth() + 1;
      return new Date().getFullYear().toString() + "/" + (month < 10 ? 0 : "") + month
    }
    const config = {

      title: 'Basic form',

      fields: {
        from: {
          label: "@(Начало периода)",
          type: "date",
          inputMask: "##.##.####",
          defaultYearMonth: def(),
          navigationMinYearMonth: "2020/01",
        },
        ctrl: {
          type: 'button',
          onInput(fb, field, val) {
            console.log('%c⧭', 'color: #514080', fb.fields.from.value);
            fb.fields.from.value = '12.12.2012'
            // fb.fields.from.label = '12.12.2012'
            // console.log('%c⧭ new value', 'color: #514080', fb.fields.from.value);
          }
        },
      },
      global: {},

      methods: {
        onSubmit(formGlobal, component, values) {
          console.log(values);
        }
      },
    }

    // Usage
    const output = window.callForm2('#mountingPoint', {}, config) // Migration
    console.log(output); // undefined
  </script>
</body>

</html>