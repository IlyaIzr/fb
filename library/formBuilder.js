window.callForm = (path, data={}, config) => {
 try 
 { 
 const id = "form" + Date.now();  
const div = document.createElement("div");
div.id = id;
const pathElement = document.querySelector(path);  
while (pathElement.firstChild) {    
pathElement.removeChild(pathElement.lastChild);  
}  
pathElement.appendChild(div);
let renderer = (rootId, formValues, formConfig) => {
(function(t){function e(e){for(var s,o,a=e[0],l=e[1],u=e[2],d=0,f=[];d<a.length;d++)o=a[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);c&&c(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,a=1;a<n.length;a++){var l=n[a];0!==r[l]&&(s=!1)}s&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var s={},r={1:0},i=[];function o(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(){return Promise.resolve()},o.m=t,o.c=s,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var a=window["webpackJsonpFB"]=window["webpackJsonpFB"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var c=l;i.push([0,0]),n()})({0:function(t,e,n){t.exports=n("2f39")},1598:function(t,e,n){"use strict";n("f31d")},"1ecf":function(t,e,n){"use strict";n.d(e,"d",(function(){return p})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return b})),n.d(e,"a",(function(){return m}));n("ddb0");var s=n("ca22"),r=n.n(s),i=n("8c12");function o(t,e){return t&&"object"!==typeof t?("function"===typeof t&&(t=t(i["a"],e)),"string"===typeof t?t:String(t)):""}function a(t,e){return"function"===typeof t&&(t=t(i["a"],e)),Boolean(t)}function l(t,e){return t?("function"===typeof t&&(t=t(i["a"],e)),Array.isArray(t)?t:Array(t)):[]}function u(t,e){return void 0===t&&(t=0),"function"===typeof t&&(t=t(i["a"],e)),isNaN(t)?0:Number(t)}function c(t){if("function"===typeof t)return t}const d={row(t,e){let n=u(t,e);return n<1&&(n=1),n},order(t,e){let n=u(t,e);return n<1&&(n=1),n},label(t,e){var n;let s=o(t,e);return e.required&&"*"!==(null===(n=s)||void 0===n?void 0:n[0])&&(s="* "+s),s},hint(t,e){return o(t,e)},requiredMessage(t,e){return o(t,e)},metaValueKey(t,e){return o(t,e)},required(t,e){return a(t,e)},clearable(t,e){return a(t,e)},disable(t,e){return a(t,e)},disabled(t,e){return e.disable=a(t,e),e.disable},clearable(t,e){return a(t,e)},"clear-icon"(t,e){return o(t,e)||"close"},loading(t,e){return a(t,e)},service(t,e){return"html"===e.type||"button"===e.type||a(t,e)},visible(t,e){return a(t,e)},metaShouldSumbmit(t,e){return a(t,e)},rules(t,e){var n;let s=l(t,e);return null!==(n=s)&&void 0!==n&&n[0]||(s=[]),s},onInput(t){return c(t)},onFocus(t){return c(t)},onBlur(t){return c(t)},meta(t,e){const n=e.metaValueKey||"value";return t[n]&&(e.value=t[n]),t}},f=r()(r()({},d),{},{mask(t,e){return o(t,e)},prefix(t,e){return o(t,e)},suffix(t,e){return o(t,e)},autogrow(t,e){return a(t,e)}}),p={text:r()(r()({},f),{},{value(t,e){return o(t,e)}}),password:r()(r()({},f),{},{value(t,e){return o(t,e)}}),email:r()(r()({},f),{},{value(t,e){return o(t,e)}}),number:r()(r()({},f),{},{value(t,e){return u(t,e)}}),time:r()(r()({},f),{},{value(t,e){return o(t,e)}}),dateNative:r()(r()({},f),{},{value(t,e){return o(t,e)}}),textarea:r()(r()({},f),{},{value(t,e){return o(t,e)}}),select:r()(r()({},d),{},{value(t,e){return e.multiple?l(t,e):o(t,e)},writable(t,e){return a(t,e)},"use-input"(t,e){return a(t,e)},"use-chips"(t,e){return a(t,e)},multiple(t,e){return a(t,e)}}),multiple:r()(r()({},d),{},{value(t,e){return l(t,e)}}),slider:r()(r()({},d),{},{value(t,e){return u(t,e)},showValue(t,e){return a(t,e)},reverse(t,e){return a(t,e)},min(t,e){return u(t,e)},max(t,e){return u(t,e)},step(t,e){return u(t,e)}}),date:r()(r()({},d),{},{value(t,e){if(!e.range)return o(t,e)},range(t,e){return a(t,e)},withInput(t,e){return a(t,e)},inputMask(t,e){return o(t,e)},mask(t,e){return o(t,e)}}),checkbox:r()(r()({},d),{},{value(t,e){return a(t,e)}}),html:r()(r()({},d),{},{value(t,e){return o(t,e)}}),editor:r()(r()({},d),{},{value(t,e){return o(t,e)},placeholder(t,e){return o(t,e)}}),button:r()({},d),file:r()(r()({},d),{},{value(t,e){return"object"===typeof t?t:null}})};function h(t){var e,n,s,r,i;return null!==(e=t.type)&&void 0!==e||(t.type="text"),null!==(n=t.value)&&void 0!==n||(t.value=""),null!==(s=t.service)&&void 0!==s||(t.service=!1),null!==(r=t.visible)&&void 0!==r||(t.visible=!0),null!==(i=t.hint)&&void 0!==i||(t.hint=""),t.clear=function(){this.component.clear()},t.reset=function(){this.component.reset()},t.rerender=function(){var t,e;null===(t=this.component)||void 0===t||null===(e=t.rerender)||void 0===e||e.call(t)},void 0===t.clearable&&(t.clearable=!0),void 0===t["clear-icon"]&&(t["clear-icon"]="close"),void 0===t.required&&(t.required=!1),void 0===t.visible&&(t.visible=!0),"object"!==typeof t.rules&&(t.rules=[]),t.required&&!t.label&&(t.label="*"),t}const b=["text","password","textarea","email","number","time","dateNative"],m=new Set(["select","multiple","slider","date","checkbox","html","editor","button","file"])},"20be":function(t,e,n){},"2f39":function(t,e,n){"use strict";n.r(e);n("e6cf"),n("7d6e"),n("e54f"),n("985d"),n("31cd");var s=n("9869"),r=n("14c0"),i=n("42d2"),o=n("b05d"),a=n("2a19");s["a"].use(o["a"],{config:{},lang:r["default"],iconSet:i["a"],plugins:{Notify:a["a"]}});var l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fb-mounting-point bg-white",staticStyle:{"min-height":"100vh"},attrs:{id:rootId}},[t.globalConfig&&t.globalConfig.fields?n("IsModal",{attrs:{settings:t.globalConfig,values:t.globalValues}}):t._e()],1)},u=[];n("ddb0");const c={fields:{p:{type:"file",onInput(t,e,n){console.log(n,typeof n)}}},methods:{onSubmit(t,e,n){console.log(n)}},title:"Dev title",buttons:{reset:"resme"}},d={secondGuy:"Annan"};var f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isModal?n("div",{staticClass:"fb-modal"},[n("q-dialog",t._b({model:{value:t.isOpen,callback:function(e){t.isOpen=e},expression:"isOpen"}},"q-dialog",t.modalConfig,!1),[n("Form",{attrs:{settings:t.settings,values:t.values}})],1),t.modalConfig.triggerButton?n("q-btn",t._b({on:{click:function(e){t.isOpen=!t.isOpen}}},"q-btn",t.modalConfig.triggerButton,!1)):t._e()],1):n("Form",{attrs:{settings:t.settings,values:t.values}})},p=[],h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fb-form bg-white",staticStyle:{"min-width":"min(75vw, 1800px)"}},[t.settings.title?n("div",{staticClass:"fb-title-wrap fb-form-title-wrap q-px-md q-py-xs relative-position",staticStyle:{"max-height":"8vh"}},[t.settings.modal?n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"fb-close-modal absolute",staticStyle:{right:"20px"},attrs:{dense:"",flat:"",icon:"close"}},[n("q-tooltip",{attrs:{"content-class":"fb-close-modal-tooltip bg-white text-primary"}},[t._v("Закрыть")])],1):t._e(),n("div",{staticClass:"fb-title fb-form-title text-h5"},[t._v(t._s(t.settings.title))])],1):t._e(),n("q-separator"),n("q-form",{ref:"form",staticClass:"fb-form-content q-pa-none scroll",on:{submit:t.onSubmit,reset:t.onReset,"validation-success":t.onValidateSuccess,"validation-error":t.onValidateError}},[t.settings.tabs?n("Tabs",{ref:"tabsComponent",attrs:{rows:t.rows},on:{submit:t.onSubmit,reset:t.onReset,clear:t.onClear}}):n("RowMapper",{attrs:{rows:t.rows},on:{submit:t.onSubmit,reset:t.onReset,clear:t.onClear}})],1),n("q-separator"),n("Buttons",{attrs:{buttons:t.settings.buttons},on:{submit:t.trySubmit,reset:t.onReset,clear:t.onClear,back:t.onBack,next:t.onNext}})],1)},b=[],m=n("ca22"),v=n.n(m),y=n("5f67"),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.fbGlobal.noButtons&&!1!==t.fbGlobal.buttons?t._e():n("div",{staticClass:"fb-form-buttons q-my-md q-px-md"},[t.buttons.reset?n("q-btn",t._b({class:t.common+t.buttons.reset.class,attrs:{type:"reset"},on:{click:function(e){return t.$emit("reset")}}},"q-btn",t.buttons.reset,!1)):t._e(),t.buttons.clear?n("q-btn",t._b({class:t.common+t.buttons.clear.class,attrs:{type:"button"},on:{click:function(e){return t.$emit("clear")}}},"q-btn",t.buttons.clear,!1)):t._e(),t.buttons.back&&t.step>0?n("q-btn",t._b({class:t.common+t.buttons.back.class,attrs:{type:"button"},on:{click:function(e){return t.$emit("back")}}},"q-btn",t.buttons.back,!1)):t._e(),t.buttons.next&&t.step+1<t.tabLength?n("q-btn",t._b({class:t.common+t.buttons.next.class,attrs:{type:"button"},on:{click:function(e){return t.$emit("next")}}},"q-btn",t.buttons.next,!1)):t._e(),t.buttons.close?n("q-btn",t._b({directives:[{name:"close-popup",rawName:"v-close-popup"}],class:t.common+t.buttons.close.class,attrs:{type:"button"}},"q-btn",t.buttons.close,!1)):t._e(),t.canSubmit?n("q-btn",t._b({class:t.common+t.buttons.submit.class,attrs:{type:"button"},on:{click:function(e){return t.$emit("submit")}}},"q-btn",t.buttons.submit,!1)):t._e()],1)},w=[],k=n("8c12"),_={name:"Buttons",props:{},data(){return{fbGlobal:k["a"],stepperStore:k["c"],common:"q-mr-md ",step:k["c"].step,tabLength:k["c"].tabLength,validated:k["c"].validated}},computed:{buttons(){let t={submit:{label:"Отправить",color:"primary"}};return k["a"].modal&&(t.close={label:"Закрыть",color:"warning"}),k["a"].tabs&&(t.next={label:"Далее"},t.back={label:"Назад"}),k["a"].buttons&&"object"===typeof k["a"].buttons&&Object.entries(k["a"].buttons).forEach((([e,n])=>{t[e]="string"===typeof n?{label:n}:n})),t},canSubmit(){let t=!0;if(!this.tabLength)return t;if(this.step+1===this.tabLength)return t;const e=this.validated.find((t=>!1===t));return void 0===e&&t}},beforeMount(){k["a"].tabs&&(this.common="q-mx-sm ")},mounted(){const t=this;k["a"].buttons||(k["a"].buttons={}),k["a"].buttons.component||Object.defineProperty(k["a"].buttons,"component",{get(){return t}})},watch:{stepperStore:{handler(t){this.step=t.step,this.validated=t.validated},deep:!0}}},j=_,q=n("2be6"),x=n("9c40"),C=n("7f67"),O=n("8ccf"),I=n.n(O),S=Object(q["a"])(j,g,w,!1,null,null,null),M=S.exports;I()(S,"components",{QBtn:x["a"]}),I()(S,"directives",{ClosePopup:C["a"]});var E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-stepper",t._b({ref:"stepper",staticClass:"fb-tabs",staticStyle:{padding:"0"},attrs:{value:t.step,animated:"",flat:"","header-nav":!0},on:{input:t.onInput,"before-transition":t.beforeStep},scopedSlots:t._u([{key:"navigation",fn:function(){return[n("q-stepper-navigation",{staticClass:"formButtons"})]},proxy:!0}])},"q-stepper",t.tabsSettings,!1),t._l(t.tabs.steps,(function(e,s){return n("q-step",{key:s,staticClass:"fb-content-wrap",attrs:{name:s,title:e.title,icon:e.icon||"settings",error:Boolean(t.errors.find((function(t){return t===Number(s)}))),done:t.validated[s]}},[t.filteredRows[s]?n("RowMapper",{attrs:{rows:t.filteredRows[s]}}):t._e()],1)})),1)},R=[],N=n("91a1"),B={name:"Tabs",components:{RowMapper:y["default"],Buttons:M},data(){return{fbGlobal:k["a"],filteredRows:[],step:0,errors:[],formRef:{},validated:[]}},props:{rows:{type:Array,required:!0}},computed:{tabs(){var t;let e={steps:[{title:""},{title:""}]};const n=k["a"].tabs,s=null===(t=k["a"].global)||void 0===t?void 0:t.tabs;if(n&&n.steps&&Object.keys(n).length)Object.keys(n).forEach((t=>e[t]=n[t]));else if(n){const t=this.rows.length-2;for(let n=0;n<t;n++)e.steps.push({title:""})}return s&&"object"===typeof s&&Object.keys(s).forEach((t=>{"steps"===t?e.steps.forEach((t=>{Object.keys(s.steps).forEach((e=>t[e]=s.steps[e]))})):e[t]=s[t]})),e},tabsSettings(){let t={};const e=k["a"].tabs;return"object"!==typeof e||Object.entries(e).forEach((n=>{"object"!==typeof n&&(t[n]=e[n])})),t}},methods:{async onInput(t){await this.formRef.validate(),this.setStep(t)},async onNextClick(){const t=await this.validateStep();t&&this.$refs.stepper.next()},async onBackClick(){const t=await this.validateStep();t&&this.$refs.stepper.previous()},async beforeStep(t,e){await this.validateStep(e)},async validateStep(t){const e=await this.formRef.validate(),n=null!==t&&void 0!==t?t:this.step;return e?(this.validated[n]=!0,k["c"].validated[n]=!0,this.errors=this.errors.filter((t=>t!==n)),!0):(this.validated[n]=!1,k["c"].validated[n]=!1,this.errors.push(n),!1)},async trySubmit(t){return null===t||void 0===t||t.preventDefault(),await this.validateStep(),0===this.errors.length||(this.setStep(this.errors[0]),!1)},setStep(t){this.step=t,k["c"].step=t},rowsToTabs(){this.rows.length&&this.rows.forEach((t=>{const e=Object(N["a"])(t,k["a"].values);this.filteredRows.push(e)}));for(let t=0;t<this.filteredRows.length;t++)this.validated[t]=!1,k["c"].validated[t]=!1}},beforeMount(){this.rowsToTabs(),k["c"].tabLength=this.tabs.steps.length},mounted(){this.formRef=k["a"].form.ref;const t=this;"boolean"===typeof k["a"].tabs&&(k["a"].tabs={}),k["a"].tabs.component||Object.defineProperty(k["a"].tabs,"component",{get(){return t}})},watch:{rows:{handler(){this.rowsToTabs(),this.setStep(0)}}}},V=B,$=(n("47b0"),n("f531")),T=n("87fe"),F=n("b19c"),L=Object(q["a"])(V,E,R,!1,null,null,null),Q=L.exports;I()(L,"components",{QStepper:$["a"],QStep:T["a"],QStepperNavigation:F["a"],QBtn:x["a"]});var P=n("1ecf"),A={name:"Form",components:{RowMapper:y["default"],Buttons:M,Tabs:Q},data(){var t;return{confMethods:(null===(t=this.settings)||void 0===t?void 0:t.methods)||{},fbGlobal:k["a"],computeRawsTrigger:1,rows:[]}},props:{settings:{type:Object,required:!0},values:{type:Object,required:!1}},computed:{},methods:{async trySubmit(t){if(this.settings.tabs){const e=await this.$refs.tabsComponent.trySubmit(t);if(!e)return!1}const e=await this.$refs.form.validate();e&&await this.onSubmit()},async onSubmit(){const t=k["a"].getFormValues(),e=k["a"].notify||{};e.message||(e.message="Отправлено"),e.timeout||(e.timeout=200);const n=this.$q.notify(e);if(this.confMethods.onSubmit){const e=await this.confMethods.onSubmit(k["a"],this,t,n);"function"===typeof e&&e(k["a"],this,t,n)}},async onReset(){let t;this.confMethods.onReset&&(t=await this.confMethods.onReset(k["a"],this)),k["a"].resetFormInputs(),"function"===typeof t&&await t(k["a"],this)},async onClear(){let t;this.confMethods.onClear&&(t=await this.confMethods.onClear(k["a"],this)),k["a"].clearFormInputs(),"function"===typeof t&&await t(k["a"],this)},async onValidateSuccess(){if(this.confMethods.onValidateSuccess){const t=await this.confMethods.onValidateSuccess(k["a"],this);"function"===typeof t&&t(k["a"],this)}},async onValidateError(t){const e=this.confMethods.onValidateError||this.confMethods.onValidationError;if(e){const n=await e(k["a"],this,t);"function"===typeof n&&await n(k["a"],this,t)}},onNext(){this.$refs.tabsComponent.onNextClick()},onBack(){this.$refs.tabsComponent.onBackClick()},async reset(){this.onReset()},async clear(){this.onClear()},async submit(){this.onSubmit()},rowsComputed(){const t=k["a"];if(t.tabs){var e,n;const s=Object(N["b"])(t.fields,null===(e=t.global)||void 0===e||null===(n=e.fields)||void 0===n?void 0:n.tabIndex);return s}const s=Object(N["a"])(t.fields,t.values);return s}},beforeMount(){n("8488")("./"+(this.settings.localization||"ru")).then((t=>{this.$q.lang.set(t.default)}));const t=this;k["a"].fields={};const e={set:function(t,e,n){var s,r;let i=t.type&&(null===(s=P["d"][t.type])||void 0===s||null===(r=s[e])||void 0===r?void 0:r.call(s,n,t));return void 0!==i&&(n=i),t.watcher+=1,t[e]=n,!0}};Object.entries(this.settings.fields).forEach((([n,s])=>{Object.defineProperty(k["a"].fields,n,{get(){return this["_"+n]},set(s){this["_"+n]||(this["_"+n]={}),Object.entries(s).forEach((([t,e])=>{this["_"+n][t]=e}));const r=new Proxy(this["_"+n],e);Object.entries(this["_"+n]).forEach((([t,e])=>{r[t]=e})),t.settings.fields[n]=r,this["_"+n]=r,t.computeRawsTrigger+=1}}),k["a"].fields[n]=s,k["b"][n]=v()({},s)})),this.rows=this.rowsComputed(),Object.defineProperty(k["a"].form,"component",{get(){return t}}),Object.defineProperty(k["a"].form,"ref",{get(){return t.$refs.form}})},async mounted(){if(this.confMethods.onMount){const t=await this.confMethods.onMount(k["a"],this,this.$refs.form);t&&"function"===typeof t&&await t(k["a"],this,this.$refs.form)}},watch:{computeRawsTrigger:{handler(){const t=this.rowsComputed();this.rows=t},deep:!0}}},D=A,z=n("05c0"),K=n("eb85"),G=n("0378"),Y=Object(q["a"])(D,h,b,!1,null,null,null),U=Y.exports;I()(Y,"components",{QBtn:x["a"],QTooltip:z["a"],QSeparator:K["a"],QForm:G["a"]}),I()(Y,"directives",{ClosePopup:C["a"]});var H={name:"IsModal",components:{Form:U},data(){var t;return{isModal:Boolean(this.settings.modal),isOpen:!1!==(null===(t=this.settings.modal)||void 0===t?void 0:t.isOpen),modalConfig:"object"===typeof this.settings.modal?this.settings.modal:{}}},props:{settings:{type:Object,required:!0},values:{type:Object,required:!1}},beforeMount(){k["a"].modal&&("object"!==typeof k["a"].modal&&(k["a"].modal={}),k["a"].modal.component||Object.defineProperty(k["a"].modal,"component",{get(){return this}}),k["a"].modal.closeModal=()=>this.isOpen=!1)}},J=H,W=(n("b3f8"),n("24e8")),X=Object(q["a"])(J,f,p,!1,null,null,null),Z=X.exports;I()(X,"components",{QDialog:W["a"],QBtn:x["a"]});var tt={name:"App",data(){return{globalConfig:formConfig,globalValues:formValues,fbGlobal:k["a"]}},components:{IsModal:Z},beforeMount(){var t;null!==(t=this.globalConfig)&&void 0!==t&&t.fields||console.log("no config or fields provided to form-builder"),k["a"].watcher||(k["a"].watcher=1);const e=this;Object.entries(this.globalConfig).forEach((([t,n])=>{if("fields"===t)return!0;Object.defineProperty(k["a"],t,{get(){return this["_"+t]},set(n){this["_"+t]=n,k["a"].watcher+=1,e.globalConfig[t]=n}}),k["a"][t]=n})),k["a"].values=this.globalValues||{},k["a"].component=this}},et=tt,nt=Object(q["a"])(et,l,u,!1,null,null,null),st=nt.exports,rt=function(){},it=async function(){const t="function"===typeof rt?await rt({Vue:s["a"]}):rt,e={router:t,render:t=>t(st),el:"#"+rootId};return{app:e,router:t}};async function ot(){const{app:t,router:e}=await it();new s["a"](t)}ot()},"31cd":function(t,e,n){},"39c4":function(t,e,n){"use strict";n("63fc")},"3fd6":function(t,e,n){},"47b0":function(t,e,n){"use strict";n("6619")},5104:function(t,e,n){"use strict";n("3fd6")},"5f67":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.rows,(function(e){return n("div",{key:t.rows.indexOf(e),staticClass:"fb-row row"},[n("FieldMapper",{attrs:{fields:e,order:t.rows.indexOf(e)}})],1)})),0)},r=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.fields?n("div",{staticClass:"fb-fields-wrap col-grow row items-center "},t._l(t.fields,(function(e){return n("Field",{key:e.key,attrs:{fieldInfo:e,rowNumber:t.order,order:t.fields.indexOf(e)}})})),1):t._e()},o=[],a=n("8c12"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.fieldInfo.visible&&"button"!==t.inputType?n("div",{key:t.visibleTrigger,class:"fb-field-container col "+(t.fieldInfo.multiKey?"":" q-mx-md")},[n("div",{staticClass:"fb-field row q-my-sm"},[n("Attachment",{attrs:{config:t.rest.outerLeft,f:t.outerLeftClick}}),"simple"===t.inputType?n("SimpleInput",{attrs:{keyName:t.fieldInfo.key,rest:t.rest}}):t._e(),"select"===t.inputType?n("Select",{attrs:{keyName:t.fieldInfo.key,rest:t.rest}}):t._e(),"multiple"===t.inputType?n("Multiple",{attrs:{keyName:t.fieldInfo.key,rest:t.rest}}):t._e(),"slider"===t.inputType?n("Slider",{attrs:{keyName:t.fieldInfo.key,rest:t.rest}}):t._e(),"date"===t.inputType?n("Date",{attrs:{keyName:t.fieldInfo.key,rest:t.rest}}):t._e(),"checkbox"===t.inputType?n("Checkbox",{attrs:{keyName:t.fieldInfo.key,rest:t.rest}}):t._e(),"file"===t.inputType?n("File",{attrs:{keyName:t.fieldInfo.key,rest:t.rest}}):t._e(),"html"===t.inputType?n("Html",{attrs:{keyName:t.fieldInfo.key,rest:t.rest}}):t._e(),"editor"===t.inputType?n("Editor",{attrs:{keyName:t.fieldInfo.key,rest:t.rest}}):t._e(),"err"===t.inputType?n("div",[t._v("\n      err, wrong type: "+t._s(t.fieldInfo.type)+"\n    ")]):t._e(),n("Attachment",{attrs:{config:t.rest.outerRight,f:t.outerRightClick}})],1)]):"button"===t.inputType?n("div",["button"===t.inputType?n("Button",{attrs:{keyName:t.fieldInfo.key,rest:t.rest}}):t._e()],1):t._e()},u=[],c=(n("e6cf"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.rest.visible?n("div",{staticClass:"q-gutter-md col fb-field-simple"},[n("q-input",t._b({ref:"input",staticClass:"fb-field-content",attrs:{rules:t.rules},on:{focus:t.onFocus,input:t.onInput},scopedSlots:t._u([t.innerLeft?{key:"prepend",fn:function(){return[n("Attachment",{attrs:{config:t.innerLeft,f:t.innerLeftClick}})]},proxy:!0}:null,t.innerRight||t.isPassword?{key:"append",fn:function(){return[n("Attachment",{attrs:{config:t.innerRight,f:t.innerRightClick}}),t.isPassword?n("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPassword?"visibility_off":"visibility"},on:{click:t.pSwitch}}):t._e()]},proxy:!0}:null],null,!0)},"q-input",t.rest,!1))],1):t._e()}),d=[],f=n("ca22"),p=n.n(f),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.config?n("div",{staticClass:"fb-attachment col-grow q-pt-md q-mx-sm"},["icon"===t.config.type?n("q-icon",t._b({},"q-icon",t.config,!1)):"img"===t.config.type?n("q-avatar",[n("img",t._b({},"img",t.config,!1))]):"button"===t.config.type?n("q-btn",t._b({attrs:{round:"",dense:"",flat:""},on:{click:t.f}},"q-btn",t.config,!1)):t._e()],1):t._e()},b=[],m={name:"Attachment",props:{config:{required:!1},f:Function}},v=m,y=n("2be6"),g=n("0016"),w=n("cb32"),k=n("9c40"),_=n("8ccf"),j=n.n(_),q=Object(y["a"])(v,h,b,!1,null,null,null),x=q.exports;j()(q,"components",{QIcon:g["a"],QAvatar:w["a"],QBtn:k["a"]});n("ddb0");const C={async onInput(t){var e;let n;if(null!==(e=this.rest)&&void 0!==e&&e.onInput&&(n=await this.rest.onInput(a["a"],this,t)),this.rest.value=t,this.rest.meta){const e=this.rest.metaValueKey||"value";this.rest.meta[e]=t}"function"===typeof n&&await n(a["a"],this,t)},async onFocus(){if(this.rest.onFocus){const t=await this.rest.onFocus(a["a"],this,this.rest);"function"===typeof t&&await t(a["a"],this,this.rest)}},async onBlur(t){var e;if(null!==(e=this.rest)&&void 0!==e&&e.onBlur){const e=await this.rest.onBlur(a["a"],this,this.rest);"function"===typeof e&&await e(a["a"],this,t)}},reset(){a["a"].fields[this.keyName]=p()({},a["b"][this.keyName])},rerender(){this.$forceUpdate()},clear(){this.onInput("")}};function O(t,e,n){const s=[];return t.forEach((t=>{const r=s=>t(s,e.getFormValues(),e,n);s.push(r)})),s}const I={rules(){return S(this.rest.rules,this.rest.required,this.rest.requiredMessage,this.rest.metaValue,this.rest)}};function S(t,e,n,s,r){let i=O(t,a["a"],s);const o=n||"Please fill",l=r.type;let u;return e?("select"===l&&r.multiple&&(u=t=>t&&t.length||o),"date"!==l||r.range||(u=t=>t.split(".")[0]<32&&t.split(".")[1]<13&&t.split(".")[2]>1900||o),"date"===l&&(u=t=>{const e=r.value;if(!t||t.length<23)return o;const{from:n,to:s}=e;let[i,a,l]=n.split(".");return i>31||a>12||l<1900?o:([i,a,l]=s.split("."),!(i>31||a>12||l<1900)||o)}),"slider"===l&&(u=t=>Number(t)>0||o),u=t=>Boolean(t)||o):"date"===l&&(u=r.range?t=>{if(!t)return!0;const e=r.value;if(!t||t.length<23)return o;const{from:n,to:s}=e;let[i,a,l]=n.split(".");return i>31||a>12||l<1900?o:([i,a,l]=s.split("."),!(i>31||a>12||l<1900)||o)}:t=>!1===Boolean(t)||t.split(".")[0]<32&&t.split(".")[1]<13&&t.split(".")[2]>1900||o),i=[u,...i],i}const M={innerLeft(){let t={};return this.rest.innerLeft?(t=this.rest.innerLeft,t.type?t:null):null},innerRight(){let t={};return this.rest.innerRight?(t=this.rest.innerRight,t.type?t:null):null}};function E(t,e){e.component||Object.defineProperty(e,"component",{get(){return t}})}var R={name:"SimpleInput",components:{Attachment:x},props:{keyName:{type:String,required:!0},rest:Object},data(){return{isPassword:"password"===this.rest.type}},computed:p()(p()({},I),M),methods:p()(p()({},C),{},{async innerLeftClick(){var t,e,n;null!==(t=this.innerLeft)&&void 0!==t&&t.onClick&&await(null===(e=(n=this.innerLeft).onClick)||void 0===e?void 0:e.call(n,a["a"],this,this.rest))},async innerRightClick(){var t,e,n;null!==(t=this.innerRight)&&void 0!==t&&t.onClick&&await(null===(e=(n=this.innerRight).onClick)||void 0===e?void 0:e.call(n,a["a"],this,this.rest))},pSwitch(){this.rest.type="text"===this.rest.type?"password":"text"}}),beforeMount(){const t=this.rest;"dateNative"===t.type&&(t.type="date")},mounted(){E(this,this.rest)},watch:{}},N=R,B=n("27f9"),V=Object(y["a"])(N,c,d,!1,null,null,null),$=V.exports;j()(V,"components",{QInput:B["a"],QIcon:g["a"]});var T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.rest.visible?n("div",{ref:"wrap",staticClass:"fb-multiple q-gutter-md q-pa-xs q-my-md"},[n("h5",{ref:"label",staticClass:"fb-field-label q-mx-none absolute-center q-px-xs"},[t._v("\n    "+t._s(t.rest.label)+"\n  ")]),n("MultiMapper",{key:t.computeRawsTrigger,attrs:{multiRows:t.rows,multiKey:t.rest.key},on:{remove:t.removeField}}),n("q-btn",{staticClass:"fb-multiple-add-button full-width q-ma-sm",attrs:{size:"sm",label:t.addButton.label||"Добавить",color:t.addButton.color||"green","text-color":t.addButton.textColor,disable:t.addButton.disable},on:{click:t.addField}},[n("i",[t._v("+")]),t.addButton.tooltip?n("q-tooltip",{attrs:{anchor:"top middle",self:"bottom middle",offset:[5,5]}},[t._v("\n      "+t._s(t.addButton.tooltip||"Добавить поле")+"\n    ")]):t._e()],1)],1):t._e()},F=[],L=(n("a434"),n("91a1")),Q=n("1ecf"),P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fb-row fb-field-content fb-multiple-content row"},t._l(t.multiRows,(function(e,s){return n("div",{key:t.multiRows.indexOf(e),staticClass:"fb-multiple-row col-12 q-ma-md"},[n("div",{staticClass:"fb-inner-row"},[n("RowMapper",{attrs:{rows:e}}),t.multiKey?n("q-btn",{staticClass:"fb-multiple-remove-btn q-mr-md",attrs:{size:"xs",type:"button",label:t.remButton.label||"X",color:t.remButton.color||"red","text-color":t.remButton.textColor,disable:t.remButton.disable},on:{click:function(e){return t.$emit("remove",s)}}},[n("q-tooltip",{attrs:{anchor:"top middle",self:"bottom middle",offset:[5,5]}},[t._v(" \n          "+t._s(t.remButton.tooltip||"Убрать")+"\n        ")])],1):t._e()],1)])})),0)},A=[],D={name:"MultiMapper",components:{RowMapper:()=>Promise.resolve().then(n.bind(null,"5f67"))},props:{multiRows:{type:Array,required:!0},multiKey:{type:String}},data(){var t;return{remButton:(null===(t=a["a"].buttons)||void 0===t?void 0:t.multipleRemove)||{}}},beforeMount(){this.multiRows.forEach((t=>{t.forEach((t=>{t.forEach((t=>{var e;const n=a["a"].fields[this.multiKey];null!==(e=n.fields)&&void 0!==e&&e[t.multiIndex]||(n.fields[t.multiIndex]={}),n.fields[t.multiIndex][t.key]=t}))}))}))}},z=D,K=(n("e42e"),n("05c0")),G=Object(y["a"])(z,P,A,!1,null,null,null),Y=G.exports;j()(G,"components",{QBtn:k["a"],QTooltip:K["a"]});var U={name:"MultipleInput",props:{keyName:{type:String,required:!0},rest:Object},components:{MultiMapper:Y},data(){var t;return{computeRawsTrigger:1,rows:[],stringUpdates:1,addButton:(null===(t=a["a"].buttons)||void 0===t?void 0:t.multipleAdd)||{}}},computed:{},methods:p()(p()({},C),{},{computeRowsEffect(){var t;const e={};Object.entries(this.rest.settings).forEach((([t,n])=>{e[t]=p()({},n)}));const n=Object(L["a"])(p()({},e),null===(t=a["a"].values)||void 0===t?void 0:t[this.keyName],this.keyName,this.rest.value);this.rows=n},async addField(){const t={};Object.keys(this.rest.settings).forEach((e=>t[e]="")),await this.onInput([...this.rest.value,t]),this.redrawChildren()},async removeField(t){const e=[...this.rest.value];e.splice(t,1),await this.onInput(e),this.redrawChildren()},redrawChildren(){this.computeRowsEffect(),this.computeRawsTrigger+=1},clear(){this.rest.value=[]},rerender(){this.redrawChildren()}}),beforeMount(){const t=this,e=a["a"].fields[this.keyName];e.fields||(e.fields=[]);const n={set:function(e,n,s){var r,i;let o=e.type&&(null===(r=Q["d"][e.type])||void 0===r||null===(i=r[n])||void 0===i?void 0:i.call(r,s,e));return void 0!==o&&(s=o),t.stringUpdates={field:e,prop:n,value:s},e[n]=s,!0}},s=a["a"].fields[this.keyName].settings;Object.keys(s).forEach((t=>{s[t].key=t,s[t]=new Proxy(s[t],n)})),this.computeRowsEffect()},mounted(){E(this,this.rest);const{label:t,wrap:e}=this.$refs,n=t.clientHeight-32;n&&(e.className+=" fb-field-big-label-case")},watch:{"rest.settings":{handler(){this.computeRowsEffect(),this.computeRawsTrigger+=1},deep:!0},stringUpdates({field:t,prop:e,value:n}){var s;const r=a["a"].fields[this.keyName];null!==r&&void 0!==r&&null!==(s=r.fields)&&void 0!==s&&s.length&&r.fields.forEach((s=>{s[t.key]&&(s[t.key][e]=n)}))}}},H=U,J=(n("1598"),Object(y["a"])(H,T,F,!1,null,null,null)),W=J.exports;j()(J,"components",{QBtn:k["a"],QTooltip:K["a"]});var X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.rest.visible?n("div",{staticClass:"q-gutter-md col fb-field-select"},[n("q-select",t._b({staticClass:"fb-field-content",attrs:{rules:t.rules,value:t.localValue,"use-chips":Boolean(t.rest.value&&t.rest.value.length),options:t.localOptions},on:{input:t.onInputLocal,"input-value":t.shorthenOptions,focus:t.onFocus},scopedSlots:t._u([{key:"no-option",fn:function(){return[n("q-item",[n("q-item-section",{staticClass:"text-grey"},[t._v("\n          "+t._s(t.rest.noResultsMsg||"Нет результатов")+"\n        ")])],1)]},proxy:!0},t.innerLeft?{key:"prepend",fn:function(){return[n("Attachment",{attrs:{config:t.innerLeft,f:t.innerLeftClick}})]},proxy:!0}:null,t.innerRight?{key:"append",fn:function(){return[n("Attachment",{attrs:{config:t.innerRight,f:t.innerRightClick}})]},proxy:!0}:null],null,!0)},"q-select",t.rest,!1))],1):t._e()},Z=[];n("c975");function tt(t,e=!1){return e&&!t||e&&!t[0]?[]:e&&"string"===typeof t[0]?t:e&&t[0].id?t.map((t=>t.id)):e&&t[0].value?t.map((t=>t.value)):t?"string"===typeof t?t:t.id?t.id:t.value?t.value:void 0:""}var et={name:"Select",components:{Attachment:x},props:{keyName:{type:String,required:!0},rest:{type:Object,required:!0}},data(){return{localValue:this.parseValue(this.rest.value),localOptions:this.parseOptions(this.rest.options),initOptions:this.parseOptions(this.rest.options)}},computed:p()(p()({},I),M),methods:p()(p()({},C),{},{parseValue(t){var e;const n=this.parseOptions(this.rest.options);if(this.rest.multiple){if(!t||!t[0])return[];if("string"===typeof t[0])return n.filter((e=>t.includes(e.value)));const e=tt(t,!0);if(t[0].value)return n.filter((t=>e(t.value)));if(t[0].id)return n.filter((t=>e(t.value)))}let s="";return void 0===t?s:null!==n&&void 0!==n&&n.length&&null!==n&&void 0!==n&&n[0]?(s="string"===typeof(null===n||void 0===n?void 0:n[0])?n.find((e=>t===e)):n.find((e=>e.id===t||e.value===t)),null!==(e=s)&&void 0!==e?e:""):s},parseOptions(t){if(null===t||void 0===t||!t.length)return[];if(t[0].value)return t;if("string"===typeof t[0])return t.map((t=>({label:t,value:t})));const e=[];return t.forEach((t=>{e.push({label:t.name,value:t.id})})),e},async onInputLocal(t){const e=Boolean(this.rest.multiple),n=tt(t,e);e?(t||(t=[]),this.onInput([...n]),this.localValue=[...t]):(this.onInput(n),this.localValue=t)},async shorthenOptions(t){var e,n;const s=null===(e=t.toLocaleLowerCase)||void 0===e?void 0:e.call(t);let r,i=this.initOptions;t&&(i=this.initOptions.filter((t=>{var e,n;if((null===(e=t.label)||void 0===e||null===(n=e.toLocaleLowerCase)||void 0===n?void 0:n.call(e).indexOf(s))>-1)return t}))),null!==(n=this.rest)&&void 0!==n&&n.onInput&&(r=await this.rest.onInput(a["a"],this,t)),this.localOptions=i,this.$emit("optionInput",t),this.$nextTick((function(){var t,e;null===(t=this.$refs.input)||void 0===t||null===(e=t.resetValidation)||void 0===e||e.call(t)})),"function"===typeof r&&await r(a["a"],this,t)}}),beforeMount(){const t=this.rest;t["use-input"]=function(){return!(!t.writable&&!t["use-input"])||(void 0===t.writable&&void 0===t.multiple||(t["use-input"]||t.writable))}()},mounted(){E(this,this.rest)},watch:{rest:{handler(t){this.localValue=this.parseValue(t.value);const e=this.parseOptions(t.options);this.localOptions=e,this.initOptions=e},deep:!0}}},nt=et,st=(n("5104"),n("ddd8")),rt=n("66e5"),it=n("4074"),ot=n("b047"),at=Object(y["a"])(nt,X,Z,!1,null,null,null),lt=at.exports;j()(at,"components",{QSelect:st["a"],QItem:rt["a"],QItemSection:it["a"],QChip:ot["a"]});var ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.rest.visible?n("div",{staticClass:"q-gutter-md col fb-field-slider"},[n("q-field",{ref:"input",staticClass:"fb-field-label-slider",attrs:{borderless:"",label:t.rest.label,rules:t.rules,value:t.rest.value,hint:t.rest.hint},scopedSlots:t._u([{key:"control",fn:function(){return[n("q-slider",t._b({ref:"slider",staticClass:"fb-field-content",staticStyle:{"min-width":"180px"},attrs:{min:t.rest.min||0,max:t.rest.max||100,step:t.rest.step||.01,reverse:t.rest.reverse||!1,label:t.rest.showValue},on:{change:t.onBlur,input:t.onInput}},"q-slider",t.rest,!1))]},proxy:!0},t.innerLeft?{key:"prepend",fn:function(){return[n("Attachment",{attrs:{config:t.innerLeft,f:t.innerLeftClick}})]},proxy:!0}:null,t.innerRight?{key:"append",fn:function(){return[n("Attachment",{attrs:{config:t.innerRight,f:t.innerRightClick}})]},proxy:!0}:null],null,!0)})],1):t._e()},ct=[],dt={name:"SliderInput",components:{Attachment:x},props:{keyName:{type:String,required:!0},rest:{type:Object,required:!0}},data(){return{}},computed:p()(p()({},I),M),methods:p()({},C),beforeMount(){var t;const e=this.rest;null!==(t=e.showValue)&&void 0!==t||(e.showValue=!0)},mounted(){E(this,this.rest)}},ft=dt,pt=(n("39c4"),n("8572")),ht=n("c1d0"),bt=Object(y["a"])(ft,ut,ct,!1,null,null,null),mt=bt.exports;j()(bt,"components",{QField:pt["a"],QSlider:ht["a"]});var vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.rest.visible?n("div",[t.rest.withInput?n("div",{staticClass:"q-gutter-md col fb-field-date"},[n("q-input",{ref:"input",staticClass:"fb-field-content",attrs:{value:t.inputValue,mask:t.rest.inputMask||t.textInputMask,rules:t.rules,label:t.rest.label,clearable:t.rest.clearable,"clear-icon":t.rest["clear-icon"],disable:t.rest.disable},on:{input:t.onTextInput},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[n("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[n("CalendarInput",{attrs:{keyName:t.keyName,rest:t.rest,textInputValue:t.inputValue},on:{input:t.onInputLocal,focus:t.onFocus,blur:t.onBlur}})],1)],1)]},proxy:!0}],null,!1,2955148654)})],1):n("div",{staticClass:"q-gutter-md col fb-field-date"},[n("h5",{staticClass:"fb-field-label text-subtitle1 q-mb-none"},[t._v(t._s(t.rest.label))]),n("CalendarInput",{class:t.rest.class+" input-"+t.keyName,attrs:{label:t.rest.label,keyName:t.keyName,textInputValue:t.inputValue,rest:t.rest},on:{input:t.onInput,focus:t.onFocus,blur:t.onBlur}})],1)]):t._e()},yt=[],gt=n("bd4c"),wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-date",t._b({ref:"calendar",staticClass:"fb-field-content",attrs:{"today-btn":"",mask:t.mask,value:void 0!==t.rest.value?t.rest.value:t.today},on:{input:t.onInput},scopedSlots:t._u([{key:"default",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"cancel"},on:{click:function(e){return t.onInput("")}}}),t.rest.withInput?t._e():n("q-field",{ref:"calendarCheck",staticClass:"fb-field-hint",attrs:{value:t.textInputValue,rules:t.rules,borderless:"",dense:""}})]},proxy:!0}])},"q-date",t.rest,!1),[t.rest.withInput?n("div",{staticClass:"row items-center justify-end"},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],ref:"btn",attrs:{label:"Close",color:"primary",flat:""}})],1):t._e()])},kt=[],_t={name:"CalendarInput",props:{keyName:{type:String,required:!0},rest:{type:Object,required:!0},textInputValue:{type:String,required:!1}},data(){return{}},computed:{rules(){let t=O(this.rest.rules||[],a["a"],"TODO");const e=this.rest.requiredMessage||"Incorrect date",n=t=>{if(!t)return e;const[n,s,r]=t.split(".");return n<32&&s<13&&r>1900&&r<2222||e},s=t=>{const e=this.rest.requiredMessage||"Incorrect date";if(!t||t.length<23)return e;const[n,s]=t.split(" - ");let[r,i,o]=n.split(".");return r>31||i>12||o<1900?e:([r,i,o]=s.split("."),!(r>31||i>12||o<1900)||e)};return this.rest.required&&!this.rest.range?t=[n,...t]:this.rest.required&&(t=[s,...t]),t},mask(){let t="";return this.rest.calendarMask?this.rest.calendarMask:(t="DD.MM.YYYY","ru"===this.rest.localization||"en"===this.rest.localization&&(t="YYYY.MM.DD"),t)},today(){return(new Date).toLocaleDateString("ru")}},methods:{async onInput(t){this.$emit("input",t)}}},jt=_t,qt=n("52ee"),xt=n("7f67"),Ct=Object(y["a"])(jt,wt,kt,!1,null,null,null),Ot=Ct.exports;function It(t){return t?"string"===typeof t?t:t.from?t.from+" - "+t.to:"":""}j()(Ct,"components",{QDate:qt["a"],QBtn:k["a"],QIcon:g["a"],QField:pt["a"]}),j()(Ct,"directives",{ClosePopup:xt["a"]});const{formatDate:St}=gt["b"];var Mt={name:"DateInput",components:{CalendarInput:Ot},props:{keyName:{type:String,required:!0},rest:{type:Object,required:!0}},data(){return{inputValue:""}},computed:p()(p()({},I),{},{textInputMask(){let t="";return t=this.rest.range?"##.##.#### - ##.##.####":"##.##.####","ru"===this.rest.localization||"en"===this.rest.localization&&(t=this.rest.range?"####/##/## - ####/##/##":"####/##/##"),t}}),methods:p()(p()({},C),{},{async onInputLocal(t){let e=t,n=t;"object"===typeof t&&null!==t&&void 0!==t&&t.from&&t.to&&(n=t.from+" - "+t.to),await this.onInput(e),this.inputValue=It(n)},async onTextInput(t){return this.rest.range?t?await this.onInputLocal({from:t.substr(0,10),to:t.substr(13,10)}):(this.inputValue="",await this.onInputLocal("")):await this.onInputLocal(t)}}),beforeMount(){var t;const e=this.rest;null!==(t=e.withInput)&&void 0!==t||(e.withInput=!0),this.inputValue=It(this.rest.value)},mounted(){E(this,this.rest)}},Et=Mt,Rt=n("7cbe"),Nt=Object(y["a"])(Et,vt,yt,!1,null,null,null),Bt=Nt.exports;j()(Nt,"components",{QInput:B["a"],QIcon:g["a"],QPopupProxy:Rt["a"]});var Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.rest.visible?n("div",{staticClass:"q-gutter-md col fb-field-checkbox"},[n("q-field",{ref:"input",staticClass:"fb-field-label",attrs:{value:t.localVal,rules:t.rules,hint:t.rest.hint,name:"checkboxInput",borderless:"",dense:""},scopedSlots:t._u([{key:"control",fn:function(){return[n("q-checkbox",t._b({staticClass:"fb-field-content",attrs:{rules:t.rules},on:{focus:t.onFocus,blur:t.onBlur,input:t.onInputLocal}},"q-checkbox",t.rest,!1))]},proxy:!0}],null,!1,2751646870)})],1):t._e()},$t=[],Tt={name:"CheckboxInput",props:{keyName:{type:String,required:!0},rest:{type:Object,required:!0}},data(){return{localVal:!1}},computed:p()({},I),methods:p()(p()({},C),{},{async onInputLocal(t){this.localVal=t,this.$refs.input.validate(),await this.onInput(t)}}),beforeMount(){this.localVal=this.rest.value},mounted(){E(this,this.rest)}},Ft=Tt,Lt=n("8f8e"),Qt=Object(y["a"])(Ft,Vt,$t,!1,null,null,null),Pt=Qt.exports;j()(Qt,"components",{QField:pt["a"],QCheckbox:Lt["a"]});var At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.rest.visible?n("div",{staticClass:"q-gutter-md col fb-field-file"},[n("q-file",t._b({staticClass:"fb-field-content",attrs:{"bottom-slots":""},on:{blur:t.onBlur,input:t.onInput,focus:t.onFocus},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"cloud_upload"},on:{click:function(t){t.stopPropagation()}}})]},proxy:!0},{key:"hint",fn:function(){return[t._v(" "+t._s(t.rest.hint)+" ")]},proxy:!0}],null,!1,4277549548)},"q-file",t.rest,!1))],1):t._e()},Dt=[],zt={name:"File",props:{keyName:{type:String,required:!0},rest:{type:Object,required:!0}},data(){return{}},computed:p()({},I),methods:p()({},C),mounted(){E(this,this.rest)}},Kt=zt,Gt=n("7d53"),Yt=Object(y["a"])(Kt,At,Dt,!1,null,null,null),Ut=Yt.exports;j()(Yt,"components",{QFile:Gt["a"],QIcon:g["a"]});var Ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.rest.visible?n("div",{staticClass:"q-gutter-md"},[n("q-card-section",t._b({ref:"input",staticClass:"fb-field-content",domProps:{innerHTML:t._s(t.rest.value)}},"q-card-section",t.rest,!1))],1):t._e()},Jt=[],Wt={name:"HtmlInjection",props:{keyName:{type:String,required:!0},rest:{type:Object,required:!0}},mounted(){E(this,this.rest)}},Xt=Wt,Zt=n("a370"),te=Object(y["a"])(Xt,Ht,Jt,!1,null,null,null),ee=te.exports;j()(te,"components",{QCardSection:Zt["a"]});var ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.rest.visible?n("div",{staticClass:"q-gutter-md"},[n("h5",{staticClass:"text-subtitle1 q-mb-none fb-field-label"},[t._v(t._s(t.rest.label))]),n("q-editor",t._b({staticClass:"fb-field-content",attrs:{placeholder:t.rest.placeholder},on:{focus:t.onFocus,blur:t.onBlur,input:t.onInput}},"q-editor",t.rest,!1))],1):t._e()},se=[],re={name:"EditorInput",props:{keyName:{type:String,required:!0},rest:{type:Object,required:!0}},methods:p()({},C),beforeMount(){var t;(t=this.rest).localization||(t.localization="ru")},mounted(){E(this,this.rest)}},ie=re,oe=n("d66b"),ae=Object(y["a"])(ie,ne,se,!1,null,null,null),le=ae.exports;j()(ae,"components",{QEditor:oe["a"]});var ue=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.rest.visible?n("div",{staticClass:"fb-field-button q-mr-md"},[n("q-btn",t._b({on:{click:t.onClick}},"q-btn",t.rest,!1),[t.rest.tooltip?n("q-tooltip",{attrs:{anchor:"top middle",self:"bottom middle",offset:[5,5]}},[t._v("\n      "+t._s(t.rest.tooltip)+"\n    ")]):t._e()],1)],1):t._e()},ce=[],de={name:"ButtonElement",props:{keyName:{type:String,required:!0},rest:{type:Object,required:!0}},data(){return{}},methods:{async onClick(){const t=this.rest,e=t.onClick||t.onInput||t.onFocus||t.onBlur;"function"===typeof e&&await e(a["a"],this,this.rest)}},mounted(){E(this,this.rest)}},fe=de,pe=Object(y["a"])(fe,ue,ce,!1,null,null,null),he=pe.exports;j()(pe,"components",{QBtn:k["a"],QTooltip:K["a"]});var be={name:"FieldSorter",data(){return{trigger:1,visibleTrigger:1}},props:{fieldInfo:{type:Object,required:!0},order:{type:Number,required:!0},rowNumber:{type:Number,required:!0}},components:{SimpleInput:$,Multiple:W,Select:lt,Slider:mt,Date:Bt,Checkbox:Pt,Html:ee,Editor:le,Attachment:x,Button:he,File:Ut},computed:{inputType(){let t="";return t=this.fieldInfo.type,Q["c"].find((e=>e===t))?"simple":Q["a"].has(t)?t:"err"},rest(){let t={};const e=this;if(!this.trigger)return null;const n=this.fieldInfo;if(n.multiKey){const s=a["a"].fields[n.multiKey].fields[n.multiIndex][n.key],r={set:function(t,s,r){var i,o,l;t.watcher+=1,e.trigger+=1;const u=t.type&&(null===(i=Q["d"][t.type])||void 0===i||null===(o=i[s])||void 0===o?void 0:o.call(i,r,t));return void 0!==u&&(r=u),t[s]=r,"value"===s&&null!==(l=a["a"].fields[n.multiKey].value)&&void 0!==l&&l[n.multiIndex]&&(a["a"].fields[n.multiKey].value[n.multiIndex][n.key]=r),!0}},i=new Proxy(s,r);return a["a"].fields[n.multiKey].fields[n.multiIndex][n.key]=i,t=i,t}const s={set:function(t,n,s){var r,i;t.watcher+=1,e.trigger+=1;const o=t.type&&(null===(r=Q["d"][t.type])||void 0===r||null===(i=r[n])||void 0===i?void 0:i.call(r,s,t));return void 0!==o&&(s=o),t[n]=s,!0}};return t=new Proxy(a["a"].fields[n.key],s),t}},methods:{async outerLeftClick(){var t;const e=null===(t=this.rest.outerLeft)||void 0===t?void 0:t.onClick;e&&await(null===e||void 0===e?void 0:e(a["a"],this.$children[0],this.rest))},async outerRightClick(){var t;const e=null===(t=this.rest.outerLeft)||void 0===t?void 0:t.onClick;e&&await(null===e||void 0===e?void 0:e(a["a"],this.$children[0],this.rest))}},beforeMount(){},watch:{rest:{handler(t){t.visible||(this.visibleTrigger+=1)},deep:!0}}},me=be,ve=(n("bd94"),Object(y["a"])(me,l,u,!1,null,null,null)),ye=ve.exports,ge={name:"FieldMapper",components:{Field:ye},props:{fields:{type:Array||void 0,required:!0},order:{type:Number,required:!0}},beforeMount(){var t,e;this.rows=null!==(t=this.rows)&&void 0!==t?t:[],a["a"].rows=null!==(e=a["a"].rows)&&void 0!==e?e:[];const n=this,s={component:n,get element(){var t;return null===this||void 0===this||null===(t=this.component)||void 0===t?void 0:t.$el}};a["a"].rows.push(s)}},we=ge,ke=Object(y["a"])(we,i,o,!1,null,null,null),_e=ke.exports,je={name:"RowMapper",components:{FieldMapper:_e},props:{rows:{type:Array,required:!0}}},qe=je,xe=Object(y["a"])(qe,s,r,!1,null,null,null);e["default"]=xe.exports},"63fc":function(t,e,n){},6619:function(t,e,n){},"66db":function(t,e,n){},8488:function(t,e,n){var s={"./":["a6d8",3,0],"./ar":["13ef",9,0],"./ar.js":["13ef",9,0],"./az-latn":["4336",9,0],"./az-latn.js":["4336",9,0],"./bg":["a6b2",9,0],"./bg.js":["a6b2",9,0],"./ca":["8378",9,0],"./ca.js":["8378",9,0],"./cs":["5ddc",9,0],"./cs.js":["5ddc",9,0],"./da":["d3e4",9,0],"./da.js":["d3e4",9,0],"./de":["215a",9,0],"./de.js":["215a",9,0],"./el":["83bc",9,0],"./el.js":["83bc",9,0],"./en-gb":["17f5",9,0],"./en-gb.js":["17f5",9,0],"./en-us":["1f91",9],"./en-us.js":["1f91",9],"./eo":["b25b",9,0],"./eo.js":["b25b",9,0],"./es":["df1a",9,0],"./es.js":["df1a",9,0],"./et":["c3ad",9,0],"./et.js":["c3ad",9,0],"./fa":["a0f3",9,0],"./fa-ir":["b67a",9,0],"./fa-ir.js":["b67a",9,0],"./fa.js":["a0f3",9,0],"./fi":["10c0",9,0],"./fi.js":["10c0",9,0],"./fr":["34fe",9,0],"./fr.js":["34fe",9,0],"./gn":["3c87",9,0],"./gn.js":["3c87",9,0],"./he":["36eb",9,0],"./he.js":["36eb",9,0],"./hr":["007f",9,0],"./hr.js":["007f",9,0],"./hu":["a9af",9,0],"./hu.js":["a9af",9,0],"./id":["7e40",9,0],"./id.js":["7e40",9,0],"./index":["a6d8",3,0],"./index.json":["a6d8",3,0],"./is":["e41d",9,0],"./is.js":["e41d",9,0],"./it":["a745",9,0],"./it.js":["a745",9,0],"./ja":["5521",9,0],"./ja.js":["5521",9,0],"./km":["726e",9,0],"./km.js":["726e",9,0],"./ko-kr":["187f",9,0],"./ko-kr.js":["187f",9,0],"./kur-ckb":["d9db",9,0],"./kur-ckb.js":["d9db",9,0],"./lu":["1ee2",9,0],"./lu.js":["1ee2",9,0],"./lv":["004e",9,0],"./lv.js":["004e",9,0],"./ml":["c454",9,0],"./ml.js":["c454",9,0],"./ms":["bf26",9,0],"./ms.js":["bf26",9,0],"./nb-no":["dacc",9,0],"./nb-no.js":["dacc",9,0],"./nl":["8cf4",9,0],"./nl.js":["8cf4",9,0],"./pl":["700f",9,0],"./pl.js":["700f",9,0],"./pt":["37ed",9,0],"./pt-br":["f476",9,0],"./pt-br.js":["f476",9,0],"./pt.js":["37ed",9,0],"./ro":["fecf",9,0],"./ro.js":["fecf",9,0],"./ru":["14c0",9],"./ru.js":["14c0",9],"./sk":["15e6",9,0],"./sk.js":["15e6",9,0],"./sl":["5e5a",9,0],"./sl.js":["5e5a",9,0],"./sr":["78dc",9,0],"./sr.js":["78dc",9,0],"./sv":["7107",9,0],"./sv.js":["7107",9,0],"./ta":["3572",9,0],"./ta.js":["3572",9,0],"./th":["c9b0",9,0],"./th.js":["c9b0",9,0],"./tr":["c1a5",9,0],"./tr.js":["c1a5",9,0],"./ug":["c290",9,0],"./ug.js":["c290",9,0],"./uk":["6464",9,0],"./uk.js":["6464",9,0],"./vi":["1fb0",9,0],"./vi.js":["1fb0",9,0],"./zh-hans":["bf69",9,0],"./zh-hans.js":["bf69",9,0],"./zh-hant":["db10",9,0],"./zh-hant.js":["db10",9,0]};function r(t){if(!n.o(s,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=s[t],r=e[0];return Promise.all(e.slice(2).map(n.e)).then((function(){return n.t(r,e[1])}))}r.keys=function(){return Object.keys(s)},r.id="8488",t.exports=r},"8c12":function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return i}));n("5319"),n("ddb0");const s={},r={form:{},getFormValues(){var t;const e={};return null===(t=Object.entries(this.fields))||void 0===t||t.forEach((([t,n])=>{if(!0!==n.service)return"multiple"===n.type?(e[n.key]={},void(n.fields.length&&n.fields.forEach(((t,s)=>{n.value[s]&&Object.entries(t).forEach((([t,r])=>{if(!0!==r.service)return e[n.key][s]||(e[n.key][s]={}),r.metaShouldSumbmit?e[n.key][s][t]=r.meta:e[n.key][s][t]=r.value}))})))):n.metaShouldSumbmit?e[n.key]=n.meta:e[n.key]=n.value})),e},resetFormInputs(){const t=this.fields;Object.keys(t).forEach((e=>{var n;e=String(e).replace("_",""),Object.keys(t[e]).forEach((n=>{"fields"!==n&&(n in s[e]?t[e][n]=s[e][n]:delete t[e][n])})),null===(n=t[e].component)||void 0===n||n.rerender()})),this.form.component.computeRawsTrigger+=1},clearFormInputs(){const t=this.fields;Object.entries(t).forEach((([e,n])=>{if("multiple"===n.type)return n.fields.length&&n.fields.forEach(((t,e)=>{Object.entries(t).forEach((([t,e])=>{e.value=""}))})),!0;e=String(e).replace("_",""),t[e].value=""})),this.form.component.$nextTick((()=>{this.form.ref.resetValidation()}))}},i=new Proxy({watcher:1,step:0,tabLength:1,validated:[]},{set:function(t,e,n){return t.watcher+=1,t[e]=n,!0}})},"91a1":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return l}));n("5319"),n("ddb0");var s=n("ca22"),r=n.n(s),i=n("8c12"),o=n("1ecf");const a=(t,e={},n=!1,s=[])=>{if(!Object.entries(t).length)return[];const a=[],l=[];for(let[r,p]of Object.entries(t)){var u;if(null!==(u=i["a"].global)&&void 0!==u&&u.fields)for(const[t,e]of Object.entries(i["a"].global.fields))void 0===p[t]&&(p[t]=e);if(p.watcher||(p.watcher=1),n&&(p.multiKey=n),p.key=String(r).replace("_",""),Object(o["b"])(p),p.key in e&&(p.value=e[p.key]),Object.entries(p).forEach((([t,e])=>{var n,s;if("value"==t){var r;const t=p.metaValueKey||"value";e=(null===(r=p.meta)||void 0===r?void 0:r[t])||e}let i=null===(n=o["d"][p.type])||void 0===n||null===(s=n[t])||void 0===s?void 0:s.call(n,e,p);void 0!==i&&(p[t]=i)})),void 0===p.row)l.push([p]);else{const t=a[p.row-1];t?t.push(p):a[p.row-1]=[p]}}const c=a.filter((t=>null!=t)),d=c.map((t=>{const e=[],n=[];t.forEach((t=>{if(t.order)if(n[t.order-1]){let e=0;while(n[t.order+e])e+=1;n[t.order+e]=t}else n[t.order-1]=t;else e.push(t)}));const s=n.filter((t=>null!=t));return s.push(...e),s}));if(d.push(...l),!n)return d;const f=[];if(s.length)for(let r=0;r<s.length;r++)f.push([]);return s.forEach(((t,n)=>{d.forEach((s=>{const i=s.map((s=>{var i;s.multiIndex=n,s.value=t[s.key];const o=null===e||void 0===e?void 0:e[s.key];o&&(s.value=o);const a=null===e||void 0===e||null===(i=e[n])||void 0===i?void 0:i[s.key];return a&&(s.value=a),r()({},s)}));f[n].push(i)}))})),f};function l(t,e){if(!Object.entries(t).length)return[];const n=[],s={};for(let[o,a]of Object.entries(t)){let i=a.tab||e;o=String(o).replace("_",""),void 0===i?(s[o]&&console.log("WARNING! Fields with repeating key"+o,r()({},a),a),s[o]=t[o]):(i-=1,i<0&&(i=0),n[i]?n[i][o]&&console.log("WARNING! Fields with repeating key"+o,r()({},a),a):n[i]={},n[i][o]=t[o])}n[0]||(n[0]={}),n[0]=r()(r()({},n[0]),s);const i=n.filter((t=>null!=t));return i}},b3f8:function(t,e,n){"use strict";n("20be")},bbe5:function(t,e,n){},bd94:function(t,e,n){"use strict";n("66db")},e42e:function(t,e,n){"use strict";n("bbe5")},f31d:function(t,e,n){}});
};
renderer(id, data, config);
} 
catch (error) {  
console.log(error);
}
}